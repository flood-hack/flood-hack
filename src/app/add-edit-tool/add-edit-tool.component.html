<main>
  <h1 mat-dialog-title
    *ngIf="data.id">Edit Tool</h1>
  <h1 mat-dialog-title
    *ngIf="!data.id">Add Tool</h1>
  <form [formGroup]="addEditToolForm">
    <div>
      <mat-form-field required>
        <input matInput
          placeholder="Name"
          formControlName="name" />
        <mat-error *ngIf="name.invalid && (name.dirty || name.touched)">
          Name is required.
        </mat-error>
      </mat-form-field>
    </div>
    <div>
      <mat-form-field>
        <textarea matInput
          placeholder="Description"
          formControlName="description">
      </textarea>
      </mat-form-field>
    </div>
    <div>
      <mat-form-field required>
        <input matInput
          placeholder="Url"
          formControlName="url" />
        <mat-error *ngIf="url.invalid && (url.dirty || url.touched)">
          Url is required.
        </mat-error>
      </mat-form-field>
    </div>
    <div>
      <mat-form-field>
        <mat-select formControlName="issues"
          multiple
          placeholder="Issues">
          <mat-option *ngFor="let option of issuesOptions; let i = index;"
            [value]="i">
            {{ option }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div>
      <mat-form-field>
        <mat-select formControlName="region"
          multiple
          placeholder="Region">
          <mat-option *ngFor="let option of regionsOptions; let i = index;"
            [value]="i">
            {{ option }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div>
      <mat-form-field>
        <mat-select formControlName="toolFunctions"
          multiple
          placeholder="Tool Functions">
          <mat-option *ngFor="let option of toolFunctionsOptions; let i = index;"
            [value]="i">
            {{ option }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </form>
  <div mat-dialog-actions>
    <button mat-raised-button
      (click)="cancel()">Cancel</button>
    <button mat-raised-button
      color="primary"
      [disabled]="!addEditToolForm.valid"
      (click)="save()"
      cdkFocusInitial>Save</button>
  </div>
</main>
